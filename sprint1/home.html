<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Coffee Shop</title>
  <link rel="stylesheet" href="main.css?v=1">
  <script src="/js/auth.js" defer></script>
  <style>
    html, body {
      max-width: 100%;
      overflow-x: hidden;
    }

    .container {
      display: grid;
      grid-template-columns: repeat(2, minmax(300px, 1fr)); /* Two columns */
      gap: 20px;
      justify-content: center;
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      box-sizing: border-box;
    }

    /* Styles for the image card */
    .card.image {
      padding: 0; /* Remove padding so the image fills the container */
      border: none; /* Remove border if not needed */
      display: block;
      width: 100%;
      height: 373px; /* Match the card height */
      overflow: hidden;
    }

    .card.image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    @media (max-width: 768px) {
      .container {
        grid-template-columns: 1fr; /* One card per row */
        padding: 10px; /* Reduce padding for smaller screens */
      }
    }

    /* General style for each card */
    .card {
      width: 100%;
      max-width: 600px;
      height: 373px;
      display: flex;
      background-color: var(--minty-pastel-green);
      border: 1px solid var(--medium-brown);
      border-radius: 20px;
      overflow: hidden;
      box-sizing: border-box;
      font-family: sans-serif;
    }

    /* Media query for mobile devices (screen width up to 768px) */
    @media (max-width: 768px) {
      .container {
        grid-template-columns: 1fr; /* One card per row */
      }
    }

    /* Text block (on the left) */
    .text {
      flex: 1; /* Occupies all available space except for the image */
      padding: 15px; /* Inner padding */
      display: flex;
      flex-direction: column;
      justify-content: center; /* Vertically center the text */
    }

    .hours-card {
        background-color: var(--minty-pastel-green);
        padding: 20px;
        border-radius: 20px;
        border: 1px solid var(--medium-brown);
    }

    .hours-list {
        list-style: none;
        padding: 0;
        margin: 15px 0;
    }

    .hours-list li {
        margin: 10px 0;
        font-size: 16px;
    }

    .hours-list strong {
        color: var(--medium-brown);
        margin-right: 10px;
    }

    .address {
        font-weight: bold;
        color: var(--medium-brown);
        margin: 15px 0;
    }

    .card h2 {
        color: var(--medium-brown);
        margin-bottom: 15px;
    }
  </style>
  <script>
    // Register service worker
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js')
            .then(registration => {
                console.log('ServiceWorker registration successful');
            })
            .catch(err => {
                console.log('ServiceWorker registration failed: ', err);
            });
    }
  </script>
</head>
<body>
  <header>
    <div class="header-container">
      <div class="content-wrapper">
        <div class="header-container">
          <img src="/logo.jpg" alt="Logo" class="logo">
          
          <input type="checkbox" id="nav-toggle">
          <label for="nav-toggle" class="hamburger-menu">
            <span></span>
            <span></span>
            <span></span>
          </label>
      
          <nav class="nav-links">
            <a href="/order">ORDER</a>
            <a href="/menu">MENU</a>
          </nav>
      
          <div class="account-controls">
            <button type="button" onclick="location.href='/login';">LOGIN</button>
            <button type="button" onclick="location.href='/signup';">SIGN UP</button>
          </div>
        </div>
      </div>
    </div>
  </header>
    
  <main>
    <div class="desktop-container">
      <div class="content-wrapper">
        <div class="container">
          <div class="card text">
            <h2>Welcome to Our Coffee Shop!</h2>
            <p>Welcome to our cozy haven at <strong>166 Franklyn Ave</strong>! Here, every cup of coffee is the result of carefully selected beans and genuine care for our guests. We believe that a fragrant drink can not only energize you but also bring people together, which is why we strive to create an atmosphere that invites you to return time and again.</p>
          </div>
          <div class="card image">
            <img src="/coffeeshop.png" alt="Coffee Shop Interior">
          </div>
          <div class="card image">
            <img src="/3cups.jpg" alt="Coffee Drinks">
          </div>
          <div class="card text">
            <h2>Our Menu</h2>
            <p>Our menu features classic espresso, cappuccino, and our signature recipes inspired by the world's best coffee traditions. Enjoy the soothing sounds of jazz, engage in leisurely conversations, and take time to savor the moment — because a true coffee break starts right here.</p>
          </div>
          <div class="card text hours-card">
            <h2>Hours of Operation</h2>
            <ul class="hours-list">
                <li><strong>Monday - Friday:</strong> 7:30 AM – 8:00 PM</li>
                <li><strong>Saturday:</strong> 8:00 AM – 9:00 PM</li>
                <li><strong>Sunday:</strong> 9:00 AM – 5:00 PM</li>
            </ul>
            <div class="address">
                <p>Visit Us</p>
                <p>Stop by at <strong>166 Franklyn Ave</strong> for a refreshing cup and a warm smile.</p>
                <p>We look forward to serving you!</p>
            </div>
          </div>
          <div class="card image">
            <iframe 
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2369.9766149909397!2d-52.72238564560545!3d47.562098848897286!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4b0ca3a302ff576b%3A0xbf3a4e4d5f998ae1!2sFranklyn%20Ave%2C%20St.%20John&#39;s%2C%20NL!5e0!3m2!1sru!2sca!4v1740423810103!5m2!1sru!2sca"
                width="600"
                height="450"
                style="border:0;"
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"
                title="Our Location on Google Maps"
            ></iframe>
          </div>
        </div>
      </div>
    </div>
  </main>
  
  <footer>
    <div class="content-wrapper">
      <div class="blok">
        <a class="email" href="mailto:EXAMPLE@GMAIL.COM">EXAMPLE@GMAIL.COM</a>
        <a class="number" href="tel:+123456789">Contact: +123456789</a>
      </div>
    </div>
  </footer>
  
  <script>
    async function checkAuthStatus() {
      try {
        const response = await fetch('/auth/status');
        const data = await response.json();
        const accountControls = document.querySelector('.account-controls');
        
        if (data.loggedIn) {
          accountControls.innerHTML = `
            <button type="button" onclick="location.href='/account';" 
                    style="background: none; border: none; cursor: pointer;">
              <div class="profile-icon" style="width: 40px; height: 40px; margin: 0;">
                <span style="color: var(--very-light-beige); font-size: 24px;">+</span>
              </div>
            </button>
          `;
        } else {
          accountControls.innerHTML = `
            <button type="button" onclick="location.href='/login';">LOGIN</button>
            <button type="button" onclick="location.href='/signup';">SIGN UP</button>
          `;
        }
      } catch (error) {
        console.error('Auth check error:', error);
      }
    }

    document.addEventListener('DOMContentLoaded', checkAuthStatus);
  </script>
</body>
</html>
